<!DOCTYPE html>
<html>
<head>
  <title>Network Graph with Plotly</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
  <h2>Simple Node-Link Graph (JavaScript + Plotly)</h2>
  <div id="network-plot" style="width: 100%; height: 600px;"></div>

  <script>
    // Example edge list (undirected graph)
    const edges = [
      [0, 1], [1, 2], [2, 3], [3, 0], // square
      [1, 4], [4, 5], [5, 2]          // extra tail
    ];

    // Auto-generate node positions (can be layouted by hand or imported)
    const numNodes = 6;
    const angleStep = 2 * Math.PI / numNodes;
    const positions = [];
    for (let i = 0; i < numNodes; i++) {
      const angle = i * angleStep;
      positions.push([Math.cos(angle), Math.sin(angle)]);
    }

    // Prepare edge lines
    const edgeX = [];
    const edgeY = [];
    edges.forEach(([src, dst]) => {
      const [x0, y0] = positions[src];
      const [x1, y1] = positions[dst];
      edgeX.push(x0, x1, null);
      edgeY.push(y0, y1, null);
    });

    const edgeTrace = {
      x: edgeX,
      y: edgeY,
      mode: 'lines',
      line: { width: 1, color: '#888' },
      hoverinfo: 'none',
      type: 'scatter'
    };

    // Prepare node markers
    const nodeX = positions.map(p => p[0]);
    const nodeY = positions.map(p => p[1]);

    const nodeTrace = {
      x: nodeX,
      y: nodeY,
      mode: 'markers+text',
      text: [...Array(numNodes).keys()].map(i => `Node ${i}`),
      textposition: "top center",
      hoverinfo: 'text',
      marker: {
        size: 20,
        color: '#1f77b4',
        line: { width: 2, color: '#fff' }
      },
      type: 'scatter'
    };

    Plotly.newPlot('network-plot', [edgeTrace, nodeTrace], {
      title: 'Interactive Network Graph',
      showlegend: false,
      margin: { t: 30, b: 30, l: 30, r: 30 },
      xaxis: { showgrid: false, zeroline: false, showticklabels: false },
      yaxis: { showgrid: false, zeroline: false, showticklabels: false }
    });
  </script>
</body>
</html>
